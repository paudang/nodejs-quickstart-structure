# <%= projectName %>

This project was generated using `nodejs-quickstart-structure`.

## Prerequisites

- Node.js (v18+)
- Docker & Docker Compose

## Getting Started

1.  **Start Infrastructure** (Database<% if (communication === 'Kafka') { %>, Kafka, Zookeeper<% } %>):
    ```bash
    docker-compose up -d db flyway<% if (communication === 'Kafka') { %> zookeeper kafka<% } %>
    ```
    *Note: We only start the infrastructure (database, etc.) so we can run the API locally.*

2.  **Install Dependencies**:
    ```bash
    npm install
    ```

3.  **Run Application**:
    ```bash
    npm run dev
    ```

## Project Structure

The project uses **<%= architecture %>** with **<%= database %>**.
<% if (communication === 'Kafka') { %>
Microservices communication handled via **Kafka**.
<% } else { %>
API is exposed via **REST**.
<% } %>

## Demo & Testing

### Health Check

```bash
curl http://localhost:3000/health
# Output: {"status":"UP"}
```

<% if (communication === 'REST APIs') { %>
### User API Demo

**Create a User:**
```bash
curl -X POST http://localhost:3000/api/users \
  -H "Content-Type: application/json" \
  -d '{"name": "Alice", "email": "alice@example.com"}'
```

**Get Users:**
```bash
curl http://localhost:3000/api/users
```
<% } %>

<% if (communication === 'Kafka') { %>
### Kafka Demo

The application connects to Kafka on startup and acts as both a **Producer** and a **Consumer**.

1.  **Check Output**:
    When the server starts, it will automatically send a demo message to the `test-topic`.
    Check your terminal logs:
    ```
    Kafka connected
    { value: 'Hello Kafka from ...!' }
    ```

2.  **Manual Test**:
    You can manually send messages using the configured `kafkajs` client in `src/services/kafkaService.ts`.

- **Zookeeper**: Port `2181`
- **Kafka Broker**: Port `9092`
<% } %>

## Database Migrations

**Flyway** is running in Docker and will automatically apply SQL migrations from `flyway/sql/` on startup.